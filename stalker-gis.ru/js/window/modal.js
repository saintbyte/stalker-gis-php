var Modal=new Class({Implements:[Options,Events],options:{"z-index":1,buttons:"ok|cancel",container:document.body,duration:100,color:"#000",opacity:0.7},initialize:function(c){this.setOptions(c);var a=this,f=a.options.buttons.split("|"),b=new Overlay($extend(a.options,{onPosition:a.position.bind(a)})),e=new Element("div",{"class":"modal-window",styles:{"z-index":a.options["z-index"]+10,position:"absolute",display:"none"}}).inject(document.body),d=document.id(a.options.content)||new Element("div",{"class":"modal-content"});d.setStyles({"z-index":a.options["z-index"]+11}).inject(e);Array.each(f,function(g){new Element("a",{"class":"button "+g,text:g,href:"#",events:{click:function(h){a.fireEvent("onButton",[h,g])}}}).inject(e)});a.overlay=b;a.window=e;a.content=d;this.fireEvent("onLoad")},show:function(){this.overlay.show();this.window.setStyle("display","block");this.fireEvent("onShow")},hide:function(){this.overlay.hide();this.window.setStyle("display","none");this.fireEvent("onHide")},position:function(){var a=this,b=window.getSize(),c=a.window.setStyle("display","block").getCoordinates();a.window.setStyles({top:Math.floor((b.y-c.height)/2),left:Math.floor((b.x-c.width)/2)});a.fireEvent("onPosition")}});